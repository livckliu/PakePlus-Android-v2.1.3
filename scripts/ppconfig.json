{"name":"aacdeadeaedfd","url":"https://www.vivawin.top","showName":"VivaWin","appid":"com.ryfirevivawin.app","icon":"","iconPath":"C:\\Users\\livck\\AppData\\Roaming\\com.pakeplus.pacbao\\aacdeadeaedfd.png","iconRound":true,"state":true,"single":true,"injectJq":true,"tauriApi":false,"devbug":false,"version":"0.0.3","preview":"Android","platform":["1-1"],"width":412,"height":915,"desc":"","jsFile":[],"filterCss":"","customJs":"// 非常重要：已集成 WhatsApp 和 Telegram 唤起修复逻辑\n// 解决 Android WebView 中的 net::ERR_UNKNOWN_URL_SCHEME 报错\nconst hookClick = (e) => {\n    const origin = e.target.closest('a');\n    const isBaseTargetBlank = document.querySelector(\n        'head base[target=\"_blank\"]'\n    );\n\n    if (!origin || !origin.href) return;\n\n    const url = origin.href;\n\n    // --- 1. WhatsApp 特殊处理 ---\n    if (url.includes('wa.me') || url.includes('api.whatsapp.com')) {\n        e.preventDefault();\n        try {\n            const urlObj = new URL(url);\n            let phone = url.includes('wa.me') \n                ? urlObj.pathname.replace('/', '') \n                : urlObj.searchParams.get('phone');\n            \n            if (phone) {\n                launchProtocol(`whatsapp://send/?phone=${phone}`);\n                return;\n            }\n        } catch (err) { console.error('WhatsApp 解析失败', err); }\n    }\n\n    // --- 2. Telegram 特殊处理 ---\n    // 匹配 t.me/username 或 telegram.me/username\n    if (url.includes('t.me/') || url.includes('telegram.me/')) {\n        e.preventDefault();\n        try {\n            const urlObj = new URL(url);\n            // pathname 通常是 \"/username\"，去掉斜杠得到 username\n            const username = urlObj.pathname.replace('/', '');\n            \n            if (username && username !== '') {\n                // Telegram 原生协议：tg://resolve?domain=xxx\n                launchProtocol(`tg://resolve?domain=${username}`);\n                return;\n            }\n        } catch (err) { console.error('Telegram 解析失败', err); }\n    }\n\n    // --- 3. 原有逻辑：拦截普通网页 _blank 跳转 ---\n    if ((origin.target === '_blank') || (isBaseTargetBlank)) {\n        if (url.startsWith('http')) {\n            e.preventDefault();\n            console.log('拦截跳转至当前页:', url);\n            location.href = url;\n        }\n    }\n}\n\n/**\n * 辅助函数：通过创建隐藏标签安全唤起协议\n * 这种方式在 PakePlus/Tauri 环境下比直接修改 location.href 更稳定\n */\nfunction launchProtocol(protocolUrl) {\n    console.log('尝试唤起原生协议:', protocolUrl);\n    const a = document.createElement('a');\n    a.href = protocolUrl;\n    document.body.appendChild(a);\n    a.click();\n    setTimeout(() => {\n        document.body.removeChild(a);\n    }, 100);\n}\n\n// 劫持 window.open\nwindow.open = function (url, target, features) {\n    if (!url) return;\n    \n    // 如果是通过 window.open 调用的特殊链接，同样交给协议处理\n    if (url.includes('wa.me') || url.includes('t.me/')) {\n        // 简单触发一次点击拦截逻辑\n        const tempA = document.createElement('a');\n        tempA.href = url;\n        tempA.style.display = 'none';\n        document.body.appendChild(tempA);\n        tempA.click();\n        document.body.removeChild(tempA);\n    } else {\n        location.href = url;\n    }\n}\n\ndocument.addEventListener('click', hookClick, { capture: true });","isHtml":false,"htmlPath":"","htmlFiles":[],"prefix":"","pcRepo":"PakePlus-v2.1.3","iosRepo":"PakePlus-iOS-v2.1.3","androidRepo":"PakePlus-Android-v2.1.3","more":{"windows":{"label":"","title":"VivaWin","url":"https://www.vivawin.top","userAgent":"Mozilla/5.0 (Linux; Android 14; Pixel 6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Mobile Safari/537.36","width":412,"height":915,"theme":null,"resizable":true,"fullscreen":false,"maximized":false,"minWidth":400,"minHeight":300,"maxWidth":1920,"maxHeight":1080,"decorations":true,"transparent":false,"titleBarStyle":"Visible","visible":true,"focus":true,"closable":true,"minimizable":true,"maximizable":true,"alwaysOnTop":false,"alwaysOnBottom":false,"center":false,"shadow":true,"skipTaskbar":false,"tabbingIdentifier":null,"parent":null,"dragDropEnabled":true,"browserExtensionsEnabled":false,"devtools":true,"contentProtected":false,"hiddenTitle":false,"incognito":false,"proxyUrl":null,"useHttpsScheme":false,"zoomHotkeysEnabled":false,"acceptFirstMouse":false,"create":false,"backgroundColor":null,"backgroundThrottling":null,"javascriptDisabled":false}},"phone":{"safeArea":{"top":0,"bottom":0,"left":0,"right":0},"header":{"show":false,"title":"","backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","loading":false,"toolBar":false,"toolBarBackgroundColor":"","toolBarColor":"","toolBarFontSize":16,"toolBarFontWeight":"bold"},"siderMenu":{"show":false,"width":0,"backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","title":"","titleColor":"","titleFontSize":16,"titleFontWeight":"bold"},"tabBar":{"show":false,"backgroundColor":"","color":"","activeColor":"","fontSize":16,"fontWeight":"bold","tabBarItem":[]},"webview":{"userAgent":"","javaScriptEnabled":true,"domStorageEnabled":true,"allowFileAccess":true,"loadWithOverviewMode":true,"setSupportZoom":true,"clearCache":true}},"ios":{"name":"aacdeadeaedfd","showName":"VivaWin","version":"0.0.3","webUrl":"https://www.vivawin.top","id":"com.ryfirevivawin.app.ios","icon":"./app-icon.png","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","isHtml":false,"debug":false,"safeArea":"all"},"android":{"name":"aacdeadeaedfd","showName":"VivaWin","version":"0.0.3","webUrl":"https://www.vivawin.top","id":"com.ryfirevivawin.app.android","icon":"./app-icon.png","input":"./app-icon.png","output":"./res","rounded":true,"copyTo":"./app/src/main/res","androidResDir":"./app/src/main/res","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","isHtml":false,"debug":false,"safeArea":"all"},"desktop":{"name":"aacdeadeaedfd","showName":"VivaWin","version":"0.0.3","id":"com.ryfirevivawin.app.desktop","desc":"打包仅限个人使用，请勿传播或商业用途，否则后果自负","webUrl":"https://www.vivawin.top","iconPath":"../app-icon.png","inputPath":"../app-icon.png","tempPath":"./processed-image.png","icnsPath":"../src-tauri/icons/icon.icns","pubBody":"打包仅限个人使用，请勿传播或商业用途，否则后果自负","isHtml":false,"single":true,"state":true,"injectJq":false,"tauriApi":false,"buildMethod":"local","debug":false}}